<%;################################################
## This file and all its content belong to Faveod S.A.S unless a commercial
## contract signed by a representant of Faveod S.A.S states otherwise.
##########
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
# EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
# NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
# LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
# OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
# WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
################################################
## This has been generated by Faveod Generator on Fri Oct 09 10:42:53 +0200 2009
## It should be placed at 'app/views/saved_reports/ajax_update.html.erb'
## All manual modifications will be destroyed on next generation
################################################ 
-%>
feedback = ''
feedback += @errors.map{|e| content_tag(:div, e, :class => 'warning')}.join if @errors
feedback += content_tag(:div, @success, :class => 'notice') if @success
page.replace_html('flash', feedback)

page << "top.Windows.closeAll()"

if @success
  case params[:action]
  when /create/
    page.insert_html(:bottom, "saved_report_list}", :partial => 'saved_report')
  when /update/
    page.replace("saved_report_#{@success.id}", :partial => 'saved_report')
  when /destroy/
    page.remove("saved_report_#{@success.id}")
  end
end

