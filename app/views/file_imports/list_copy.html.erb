<%;################################################
## This file and all its content belong to Faveod S.A.S unless a commercial
## contract signed by a representant of Faveod S.A.S states otherwise.
##########
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
# EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
# NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
# LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
# OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
# WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
################################################
## This has been generated by Faveod Generator on Tue Oct 30 17:29:31 +0100 2012
## It should be placed at 'app/views/file_imports/list_copy.html.erb'
## All manual modifications will be destroyed on next generation
################################################ 
%><% unless(@downloading) %>
<h2 class="title"><%= _("Listing %{records} (%{count})") % {:records => _("File Imports"), :count => @file_imports.total_entries } %> </h2>
<% end %>
<% unless(request.xhr? || @no_menubar) %>
<div class="menubar"><ul id="main-menubar"><li class="file_menu first"><a href="#"><%= _(%q{File}) %></a><ul><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/new', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{Loads a new record.}) %>"><img src="/images/page_icons/add.png" alt="<%= _(%q{New}) %>" title="<%= _(%q{New}) %>" /> <%= _(%q{New}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/new" title="<%= _(%q{Loads a new record.}) %>"><img src="/images/page_icons/add.png" alt="<%= _(%q{New}) %>" title="<%= _(%q{New}) %>" /> <%= _(%q{New}) %></a><% end %></li><li>--</li><li><a href="#"><%= _("Download as") %></a><ul><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download?format=html', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/html.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{HTML}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download?format=html" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/html.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{HTML}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download?format=csv', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/defaut.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{CSV}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download?format=csv" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/defaut.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{CSV}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download?format=xls', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/xls.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{XLS}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download?format=xls" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/xls.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{XLS}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download?format=xml', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/xml.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{XML}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download?format=xml" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/xml.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{XML}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download?format=pdf', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/pdf.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{PDF}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download?format=pdf" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/pdf.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{PDF}) %></a><% end %></li></ul></li>
<li>--</li><li><a href="#" onclick="print_element_id('content', '<%= @file_import && !@file_import.is_a?(Array) ? @file_import.disp_name : _('List') %>');; return false;"><%= image_tag("/images/std/print.gif") %><%= _(%q{Print...}) %></a></li><% if @menubar_actions && @menubar_actions[:file].is_a?(Array) %><li>--</li><% @menubar_actions[:file].each do |elt| %>
<%= content_tag(:li, elt) if elt.is_a?(String) %><% end %><% end %></ul></li>
<li><a href="#"><%= _(%q{Edit}) %></a>
<ul><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/search', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{Search and filter data.}) %>"><img src="/images/page_icons/magnifier.png" alt="<%= _(%q{Search}) %>" title="<%= _(%q{Search}) %>" /> <%= _(%q{Search}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/search" title="<%= _(%q{Search and filter data.}) %>"><img src="/images/page_icons/magnifier.png" alt="<%= _(%q{Search}) %>" title="<%= _(%q{Search}) %>" /> <%= _(%q{Search}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/adv_search', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{Make complex queries.}) %>"><img src="/images/page_icons/magnifier_zoom_in.png" alt="<%= _(%q{Adv Search}) %>" title="<%= _(%q{Adv Search}) %>" /> <%= _(%q{Adv Search}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/adv_search" title="<%= _(%q{Make complex queries.}) %>"><img src="/images/page_icons/magnifier_zoom_in.png" alt="<%= _(%q{Adv Search}) %>" title="<%= _(%q{Adv Search}) %>" /> <%= _(%q{Adv Search}) %></a><% end %></li><% if @menubar_actions && @menubar_actions[:edit].is_a?(Array) %><li>--</li><% @menubar_actions[:edit].each do |elt| %>
<%= content_tag(:li, elt) if elt.is_a?(String) %><% end %><% end %></ul></li>
<li><a href="#"><%= _(%q{Presentation}) %></a>
<ul><li><%= image_tag('/images/std/gallery.gif', :height => 16) %> <%= _(%q{Gallery}) %></li><li class="sort_by"><a href="#"><%= _("Sort By") %></a>
<ul><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?sort_by=file__name', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{File}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?sort_by=file__name" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{File}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?sort_by=started_at', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Started at}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?sort_by=started_at" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Started at}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?sort_by=completed_at', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Completed at}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?sort_by=completed_at" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Completed at}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?sort_by=progress', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Progress}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?sort_by=progress" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Progress}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?sort_by=expected_total', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Expected total}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?sort_by=expected_total" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Expected total}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?sort_by=error_count', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Error Count}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?sort_by=error_count" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Error Count}) %></a><% end %></li></ul></li><li class="group_by"><a href="#"><%= _("Group By") %></a>
<ul><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?group_by=user', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{User}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?group_by=user" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{User}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?group_by=file_import', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{File Import}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?group_by=file_import" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{File Import}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?group_by=started_at', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Started at}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?group_by=started_at" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Started at}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?group_by=completed_at', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Completed at}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?group_by=completed_at" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Completed at}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?group_by=progress', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Progress}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?group_by=progress" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Progress}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?group_by=expected_total', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Expected total}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?group_by=expected_total" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Expected total}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?group_by=error_count', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Error Count}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?group_by=error_count" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{Error Count}) %></a><% end %></li></ul></li>
<li class="per_page"><a href="#"><%= _("Per Page") %></a>
<ul><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?per_page=10', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{10}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?per_page=10" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{10}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?per_page=20', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{20}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?per_page=20" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{20}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?per_page=30', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{30}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?per_page=30" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{30}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?per_page=50', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{50}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?per_page=50" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{50}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?per_page=100', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{100}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?per_page=100" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{100}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?per_page=200', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{200}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?per_page=200" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{200}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?per_page=500', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{500}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list?per_page=500" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{500}) %></a><% end %></li></ul></li>
<% if @menubar_actions && @menubar_actions[:presentation].is_a?(Array) %><li>--</li><% @menubar_actions[:presentation].each do |elt| %>
<%= content_tag(:li, elt) if elt.is_a?(String) %><% end %><% end %></ul></li>
<li><a href="#"><%= _(%q{Browsing}) %></a><ul><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{List}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{List}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/report_chooser', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{Reporting: displays preset reports.}) %>"><img src="/images/page_icons/chart_curve.png" alt="<%= _(%q{Report Chooser}) %>" title="<%= _(%q{Report Chooser}) %>" /> <%= _(%q{Report Chooser}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/report_chooser" title="<%= _(%q{Reporting: displays preset reports.}) %>"><img src="/images/page_icons/chart_curve.png" alt="<%= _(%q{Report Chooser}) %>" title="<%= _(%q{Report Chooser}) %>" /> <%= _(%q{Report Chooser}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/reporting', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{Load requested report.}) %>"><img src="/images/page_icons/chart_curve.png" alt="<%= _(%q{Reporting}) %>" title="<%= _(%q{Reporting}) %>" /> <%= _(%q{Reporting}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/reporting" title="<%= _(%q{Load requested report.}) %>"><img src="/images/page_icons/chart_curve.png" alt="<%= _(%q{Reporting}) %>" title="<%= _(%q{Reporting}) %>" /> <%= _(%q{Reporting}) %></a><% end %></li><li><% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/help', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{Gives help about current module.}) %>"><img src="/images/std/help.png" alt="<%= _(%q{Help}) %>" title="<%= _(%q{Help}) %>"/> <%= _(%q{Help}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/help" title="<%= _(%q{Gives help about current module.}) %>"><img src="/images/std/help.png" alt="<%= _(%q{Help}) %>" title="<%= _(%q{Help}) %>"/> <%= _(%q{Help}) %></a><% end %></li><li>--</li></ul></li>
</ul><br style="clear:left;" /></div>
<% end %>
<% unless(@no_filterbar) %>

<% end %>
<div class="content" id="container">
 <div class="actions">
<% unless(@pdf) %>
<%= will_paginate(@file_imports, :class => "pagination\#{' ajax' if request.xhr?}", :previous_label => image_tag('std/go_left.png', :title => _("Previous page")), :next_label => image_tag('std/go_right.png', :title => _("Next page"))) %>
   <label for="string">
<%= select_tag('per_page', options_for_select([10, 20, 30, 40, 50, 100], @file_imports.per_page), :id => 'per_page', :onchange => "setCookie('file_imports_per_page', this.value); location.reload(); return false;") %>
    <span>
<%= _(%q{results per page}) %>
    </span>
   </label>
<% end %>
<% unless(@no_links) %>
<% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/new', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{Loads a new record.}) %>"><img src="/images/page_icons/add.png" alt="<%= _(%q{New}) %>" title="<%= _(%q{New}) %>" /> <%= _(%q{New File Import}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/new" title="<%= _(%q{Loads a new record.}) %>"><img src="/images/page_icons/add.png" alt="<%= _(%q{New}) %>" title="<%= _(%q{New}) %>" /> <%= _(%q{New File Import}) %></a><% end %>
<% end %>
  <br style="clear:both" />
 </div>
 <div class="list" id="file_imports_list">
<% if(@file_imports_groups) %>
<table id="file_imports_table" summary="file_imports list"><thead>
<tr class="containers"><th colspan="4"><%= _(%q{Import}) %></th><th colspan="5"><%= _(%q{Progress}) %></th><th colspan="1"><%= _(%q{Log}) %></th><th rowspan="2"></th></tr>
<tr><th id="file_imports_user_th"><%= _(%q{User}) %></th><th id="file_imports_file_th"><%= _(%q{File}) %></th><th id="file_imports_file_import_th"><%= _(%q{File Import}) %></th><th id="file_imports_re_imports_th"><%= _(%q{Re-imports}) %></th><th id="file_imports_started_at_th"><%= _(%q{Started at}) %></th><th id="file_imports_completed_at_th"><%= _(%q{Completed at}) %></th><th id="file_imports_progress_th"><%= _(%q{Progress}) %></th><th id="file_imports_expected_total_th"><%= _(%q{Expected total}) %></th><th id="file_imports_error_count_th"><%= _(%q{Error Count}) %></th><th id="file_imports_log_th"><%= _(%q{Log}) %></th></tr>
</thead>

<% for key in @file_imports_groups.keys %>

	<tr><th colspan="12" align="center" class="group"><%= key.nil? ? _('not set') : (key.respond_to?(:disp_name) ? key.disp_name : key.to_s.humanize ) %></th></tr>

<% @file_imports_groups[key].each_with_index do |row,idx|
@file_import = row %>

		<tr class="<%= (idx % 2 == 1) ? 'odd' : 'even' %>" ondblclick="window.location=event.altKey ? '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/edit/<%= @file_import.id %>' : '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/show/<%= @file_import.id %>'" >
<td><span class="aligned"><%=  link_to(@file_import.user.disp_name, {:controller => :users, :action => :show, :id => @file_import.user.id}) unless @file_import.user.blank? %></span></td>
<td><span class="aligned color"><% unless @file_import.file__name.blank? %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/get_file/<%= @file_import.id %>?sid=file" title="<%= _(%q{Load the entire file.}) %>"><%= @file_import.file__name %></a><% end %></span></td>
<td><span class="aligned"><%=  link_to(@file_import.file_import.disp_name, {:controller => :file_imports, :action => :show, :id => @file_import.file_import.id}) unless @file_import.file_import.blank? %></span></td>
<td><span class="aligned"><%=  @file_import.re_imports[0..20].compact.map{|v| link_to(v.disp_name, {:controller => :file_imports, :action => :show, :id => v.id}) }.to_sentence.html_safe  %></span></td>
<td><span class="aligned"><%= h @file_import.started_at %></span></td>
<td><span class="aligned"><%= h @file_import.completed_at %></span></td>
<td><span class="aligned"><%= h @file_import.progress %></span></td>
<td><span class="aligned"><%= h @file_import.expected_total %></span></td>
<td><span class="aligned"><%= h @file_import.error_count %></span></td>
<td><span class="aligned"><%=  txt= @file_import.log; h(txt.to(100)) + (txt.length > 100 ? '...' : '') unless txt.blank? %></span></td>
<td class="std_links"><%= links_for_list_element(@file_import) %></td>
</tr>
<% end %><% end %></table>
<% end %>
<% unless(@file_imports_groups) %>
<table class="sortable" id="file_imports_table" summary="file_imports list"><thead>
<tr class="containers"><th colspan="4"><%= _(%q{Import}) %></th><th colspan="5"><%= _(%q{Progress}) %></th><th colspan="1"><%= _(%q{Log}) %></th><th rowspan="2"></th></tr>
<tr><th id="file_imports_user_th"><%= _(%q{User}) %></th><th id="file_imports_file_th"><%= _(%q{File}) %></th><th id="file_imports_file_import_th"><%= _(%q{File Import}) %></th><th id="file_imports_re_imports_th"><%= _(%q{Re-imports}) %></th><th id="file_imports_started_at_th"><%= _(%q{Started at}) %></th><th id="file_imports_completed_at_th"><%= _(%q{Completed at}) %></th><th id="file_imports_progress_th"><%= _(%q{Progress}) %></th><th id="file_imports_expected_total_th"><%= _(%q{Expected total}) %></th><th id="file_imports_error_count_th"><%= _(%q{Error Count}) %></th><th id="file_imports_log_th"><%= _(%q{Log}) %></th></tr>
</thead>

<tbody><% @file_imports.each_with_index do |row,idx|
@file_import = row %>

		<tr class="<%= (idx % 2 == 1) ? 'odd' : 'even' %>" ondblclick="window.location=event.altKey ? '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/edit/<%= @file_import.id %>' : '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/show/<%= @file_import.id %>'" >
<td><span class="aligned"><%=  link_to(@file_import.user.disp_name, {:controller => :users, :action => :show, :id => @file_import.user.id}) unless @file_import.user.blank? %></span></td>
<td><span class="aligned color"><% unless @file_import.file__name.blank? %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/get_file/<%= @file_import.id %>?sid=file" title="<%= _(%q{Load the entire file.}) %>"><%= @file_import.file__name %></a><% end %></span></td>
<td><span class="aligned"><%=  link_to(@file_import.file_import.disp_name, {:controller => :file_imports, :action => :show, :id => @file_import.file_import.id}) unless @file_import.file_import.blank? %></span></td>
<td><span class="aligned"><%=  @file_import.re_imports[0..20].compact.map{|v| link_to(v.disp_name, {:controller => :file_imports, :action => :show, :id => v.id}) }.to_sentence.html_safe  %></span></td>
<td><span class="aligned"><%= h @file_import.started_at %></span></td>
<td><span class="aligned"><%= h @file_import.completed_at %></span></td>
<td><span class="aligned"><%= h @file_import.progress %></span></td>
<td><span class="aligned"><%= h @file_import.expected_total %></span></td>
<td><span class="aligned"><%= h @file_import.error_count %></span></td>
<td><span class="aligned"><%=  txt= @file_import.log; h(txt.to(100)) + (txt.length > 100 ? '...' : '') unless txt.blank? %></span></td>
<td class="std_links"><%= links_for_list_element(@file_import) %></td>
</tr>
<% end %></tbody></table>
<% end %>
 </div>
</div>
<div id="file_imports_element">
</div>
<% unless(@downloading || @no_links) %>
 <span style="margin-right:10px">
<% if @pres_mode == :list_zoom %><a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/new', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{Loads a new record.}) %>"><img src="/images/page_icons/add.png" alt="<%= _(%q{New}) %>" title="<%= _(%q{New}) %>" /> <%= _(%q{New File Import}) %></a><% else %><a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/new" title="<%= _(%q{Loads a new record.}) %>"><img src="/images/page_icons/add.png" alt="<%= _(%q{New}) %>" title="<%= _(%q{New}) %>" /> <%= _(%q{New File Import}) %></a><% end %>
 </span>
<% end %>

<script type="text/javascript">
//<![CDATA[





function onload_list_copy_call() {
if (typeof(Layout) == 'undefined') { if ($('main-menubar')) { build_menubar('main-menubar') }}
<% if (request.xhr?) %>
$$('.pagination.ajax a').each(function (elt) {
  elt.observe('click', function(evt) {
    new Ajax.Updater('file_imports_list', elt.href, {method: 'get', asynchronous:true, evalScripts:true})
    evt.stop()
  })
})
<% end %>
}
<% if request.xhr? %>onload_list_copy_call();<% else %>if (typeof(Event) != 'undefined' && Event.observe) {
Event.observe(window, 'load', onload_list_copy_call)
} else if (typeof(jQuery) != 'undefined') {
$(window).load(onload_list_copy_call)
}<% end %>


//]]>
</script>