<%;################################################
## This file and all its content belong to Faveod S.A.S unless a commercial
## contract signed by a representant of Faveod S.A.S states otherwise.
##########
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
# EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
# NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
# LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
# OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
# WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
################################################
## This has been generated by Faveod Generator on Thu Oct 31 16:38:15 +0100 2013
## It should be placed at 'app/views/file_imports/preview.html.erb'
## All manual modifications will be destroyed on next generation
################################################ %>

<h1><%= @file_import.file__name %></h1>



<div class="actions"><%= _(%q{Actions:}) %>
  <%= links_for_list_element(@file_import) %>
  
   <%= link_to(image_tag('page_icons/table_gear.png',
    :title => _('Load')) + ' ' + _("Load file"), {:controller => :file_imports,
    :action => :load, :id => @file_import.id}, :confirm => _("Load file?"),
    :method => :post) %>
  
</div>

<table id="extracts">
<tr class="ok">
  <th title="<%= _(%q{Number of non-blank cells}) %>">
    <%= _(%q{Filled }) %>
  </th>
  <% @columns.each_with_index{|c, i| b = 0; a = 0
   @cells.map{|r| r[i].blank? ? b += 1 : a += 1 } %>
    <th><%= a %> / <%= a + b %></th>
  <% } %>
</tr>
<tr>
  <th><%= _(%q{Column}) %></th>
  <% @columns.each{|c| %><th><%= c %></th><% } %>
</tr>

<% @cells[0..@limit].each_with_index {|row, i| %><tr id="extract_<%= i %>">
  <th><%= i + 1 %></th>
  <%= row.map{|f|content_tag(:td, f)}.join.html_safe %></tr><% } %>
</table></div>

<script type="text/javascript">
if ($('extracts')) {$('extracts').setStyle('width:'+document.viewport.getWidth()-16+'px')}
</script>

