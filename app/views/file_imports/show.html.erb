<%;################################################
## This file and all its content belong to Faveod S.A.S unless a commercial
## contract signed by a representant of Faveod S.A.S states otherwise.
##########
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
# EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
# NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
# LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
# OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
# WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
################################################
## This has been generated by Faveod Generator on Thu Oct 31 16:38:16 +0100 2013
## It should be placed at 'app/views/file_imports/show.html.erb'
## All manual modifications will be destroyed on next generation
################################################ %>
<h2 class="title"><img src="/images/std/show.png" alt="<%= _(%q{Show}) %>" /> <%= _("Showing %{record} from %{records}") % {:record => @file_import.disp_name, :records => _("File Imports")} %> </h2>
<% unless(request.xhr? || @no_menubar) %>
<div class="menubar"><ul id="main-menubar"><li class="file_menu first"><a href="#"><%= _(%q{File}) %></a><ul><li><% if @pres_mode == :list_zoom %>
<a href="#" data-method="get" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/new', {asynchronous:true, evalScripts:true}); return false;" rel="nofollow" title="<%= _(%q{Loads a new record.}) %>"><img src="/images/page_icons/add.png" alt="<%= _(%q{New}) %>" title="<%= _(%q{New}) %>" /> <%= _(%q{New}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/new" data-method="get" rel="nofollow" title="<%= _(%q{Loads a new record.}) %>"><img src="/images/page_icons/add.png" alt="<%= _(%q{New}) %>" title="<%= _(%q{New}) %>" /> <%= _(%q{New}) %></a>
<% end %></li><li class="sep"></li><li><a href="#"><%= _("Download as") %></a><ul><li><% if @pres_mode == :list_zoom %>
<a href="#" data-method="get" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download/<%= @file_import.id %>.html', {asynchronous:true, evalScripts:true}); return false;" rel="nofollow" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/html.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{HTML}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download/<%= @file_import.id %>.html" data-method="get" rel="nofollow" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/html.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{HTML}) %></a>
<% end %></li><li><% if @pres_mode == :list_zoom %>
<a href="#" data-method="get" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download/<%= @file_import.id %>.csv', {asynchronous:true, evalScripts:true}); return false;" rel="nofollow" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/defaut.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{CSV}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download/<%= @file_import.id %>.csv" data-method="get" rel="nofollow" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/defaut.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{CSV}) %></a>
<% end %></li><li><% if @pres_mode == :list_zoom %>
<a href="#" data-method="get" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download/<%= @file_import.id %>.xls', {asynchronous:true, evalScripts:true}); return false;" rel="nofollow" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/xls.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{XLS}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download/<%= @file_import.id %>.xls" data-method="get" rel="nofollow" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/xls.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{XLS}) %></a>
<% end %></li><li><% if @pres_mode == :list_zoom %>
<a href="#" data-method="get" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download/<%= @file_import.id %>.xml', {asynchronous:true, evalScripts:true}); return false;" rel="nofollow" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/xml.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{XML}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download/<%= @file_import.id %>.xml" data-method="get" rel="nofollow" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/xml.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{XML}) %></a>
<% end %></li><li><% if @pres_mode == :list_zoom %>
<a href="#" data-method="get" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download/<%= @file_import.id %>.pdf', {asynchronous:true, evalScripts:true}); return false;" rel="nofollow" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/pdf.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{PDF}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/download/<%= @file_import.id %>.pdf" data-method="get" rel="nofollow" title="<%= _(%q{Allows download of all or current record in many formats.}) %>"><img src="/images/file_icons/pdf.png" alt="<%= _(%q{Download}) %>" title="<%= _(%q{Download}) %>"/> <%= _(%q{PDF}) %></a>
<% end %></li></ul></li>
<li class="sep"></li><li><a href="#" onclick="Layout.print_element_id('content', '<%= @file_import && !@file_import.is_a?(Array) ? @file_import.disp_name : _('List') %>');; return false;"><%= image_tag("/images/std/print.gif") %><%= _(%q{Print...}) %></a></li><% if @menubar_actions && @menubar_actions[:file].is_a?(Array) %><li class="sep"></li><% @menubar_actions[:file].each do |elt| %>
<%= content_tag(:li, elt) if elt.is_a?(String) %><% end %><% end %></ul></li>
<li><a href="#"><%= _(%q{Edit}) %></a>
<ul><li><% if @pres_mode == :list_zoom %>
<a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/search', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{Search and filter data.}) %>"><img src="/images/page_icons/magnifier.png" alt="<%= _(%q{Search}) %>" title="<%= _(%q{Search}) %>" /> <%= _(%q{Search}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/search" title="<%= _(%q{Search and filter data.}) %>"><img src="/images/page_icons/magnifier.png" alt="<%= _(%q{Search}) %>" title="<%= _(%q{Search}) %>" /> <%= _(%q{Search}) %></a>
<% end %></li><li><% if @pres_mode == :list_zoom %>
<a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/adv_search', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{Make complex queries.}) %>"><img src="/images/page_icons/magnifier_zoom_in.png" alt="<%= _(%q{Adv Search}) %>" title="<%= _(%q{Adv Search}) %>" /> <%= _(%q{Adv Search}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/adv_search" title="<%= _(%q{Make complex queries.}) %>"><img src="/images/page_icons/magnifier_zoom_in.png" alt="<%= _(%q{Adv Search}) %>" title="<%= _(%q{Adv Search}) %>" /> <%= _(%q{Adv Search}) %></a>
<% end %></li><% if @menubar_actions && @menubar_actions[:edit].is_a?(Array) %><li class="sep"></li><% @menubar_actions[:edit].each do |elt| %>
<%= content_tag(:li, elt) if elt.is_a?(String) %><% end %><% end %></ul></li>
<li><a href="#"><%= _(%q{Presentation}) %></a>
<ul><li><%= image_tag('/images/std/gallery.gif', :height => 16) %> <%= _(%q{Gallery}) %></li><% if @menubar_actions && @menubar_actions[:presentation].is_a?(Array) %><li class="sep"></li><% @menubar_actions[:presentation].each do |elt| %>
<%= content_tag(:li, elt) if elt.is_a?(String) %><% end %><% end %></ul></li>
<li><a href="#"><%= _(%q{Browsing}) %></a><ul><li><% if @pres_mode == :list_zoom %>
<a href="#" data-method="get" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list', {asynchronous:true, evalScripts:true}); return false;" rel="nofollow" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{List}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/list" data-method="get" rel="nofollow" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{List}) %></a>
<% end %></li><li><% if @pres_mode == :list_zoom %>
<a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/report_chooser', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{Reporting: displays preset reports.}) %>"><img src="/images/page_icons/chart_curve.png" alt="<%= _(%q{Report Chooser}) %>" title="<%= _(%q{Report Chooser}) %>" /> <%= _(%q{Report Chooser}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/report_chooser" title="<%= _(%q{Reporting: displays preset reports.}) %>"><img src="/images/page_icons/chart_curve.png" alt="<%= _(%q{Report Chooser}) %>" title="<%= _(%q{Report Chooser}) %>" /> <%= _(%q{Report Chooser}) %></a>
<% end %></li><li><% if @pres_mode == :list_zoom %>
<a href="#" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/reporting', {asynchronous:true, evalScripts:true}); return false;" title="<%= _(%q{Load requested report.}) %>"><img src="/images/page_icons/chart_curve.png" alt="<%= _(%q{Reporting}) %>" title="<%= _(%q{Reporting}) %>" /> <%= _(%q{Reporting}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/reporting" title="<%= _(%q{Load requested report.}) %>"><img src="/images/page_icons/chart_curve.png" alt="<%= _(%q{Reporting}) %>" title="<%= _(%q{Reporting}) %>" /> <%= _(%q{Reporting}) %></a>
<% end %></li><li><% if @pres_mode == :list_zoom %>
<a href="#" data-method="get" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/help', {asynchronous:true, evalScripts:true}); return false;" rel="nofollow" title="<%= _(%q{Gives help about current module.}) %>"><img src="/images/std/help.png" alt="<%= _(%q{Help}) %>" title="<%= _(%q{Help}) %>"/> <%= _(%q{Help}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/help" data-method="get" rel="nofollow" title="<%= _(%q{Gives help about current module.}) %>"><img src="/images/std/help.png" alt="<%= _(%q{Help}) %>" title="<%= _(%q{Help}) %>"/> <%= _(%q{Help}) %></a>
<% end %></li><li class="sep"></li><li><% if @pres_mode == :list_zoom %>
<a href="#" data-method="get" onclick="new Ajax.Updater('file_imports_element', '<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/edit/<%= @file_import.id %>', {asynchronous:true, evalScripts:true}); return false;" rel="nofollow" title="<%= _(%q{Load the data to fill the edit form.}) %>"><img src="/images/std/edit.png" alt="<%= _(%q{Edit}) %>" title="<%= _(%q{Edit}) %>"/> <%= _(%q{Edit current}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/file_imports/edit/<%= @file_import.id %>" data-method="get" rel="nofollow" title="<%= _(%q{Load the data to fill the edit form.}) %>"><img src="/images/std/edit.png" alt="<%= _(%q{Edit}) %>" title="<%= _(%q{Edit}) %>"/> <%= _(%q{Edit current}) %></a>
<% end %></li></ul></li>
</ul><br style="clear:left;" /></div>
<% end %>
<div class="content align_fields" id="container">
<fieldset style="border:none;" id="file_import_<%=  @file_import.id || 0  %>_root_container" >
<fieldset id="file_import_<%=  @file_import.id || 0  %>_import" >
<legend for="file_import_<%=  @file_import.id || 0  %>_import" id="file_imports_import_<%= @file_import.id || 0 %>"><%= s_(%q{Import}) %></legend>
<label for="file_import_<%=  @file_import.id || 0  %>_user_id" id="file_imports_user_<%= @file_import.id || 0 %>"><%= s_(%q{User: }) %><% if @file_import.user.blank? %>
<span class="aligned"><%= _(%q{None}) %></span>
<% else %>
<span class="aligned"><%= @file_import.user ? link_to(@file_import.user.disp_name, {:controller => :users, :action => :show, :id => @file_import.user.id} ) : _("None") %></span>
<% end %></label> <div ><span id="file_imports_file_<%= @file_import.id || 0 %>">File:</span><% if !@file_import.file__name.blank? %><%= link_to(('<p><img src="/file_imports/get_file_thumb/' + @file_import.id.to_s + '?sid=file" class="preview" /><br /></p>' + @file_import.file__name).html_safe, :controller => :file_imports, :action => :get_file, :id=> @file_import.id, :sid => 'file', :version => params[:version]) %><% end %></div>
<label for="file_import_<%=  @file_import.id || 0  %>_file_import_id" id="file_imports_file_import_<%= @file_import.id || 0 %>"><%= s_(%q{File Import: }) %><% if @file_import.file_import.blank? %>
<span class="aligned"><%= _(%q{None}) %></span>
<% else %>
<span class="aligned"><%= @file_import.file_import ? link_to(@file_import.file_import.disp_name, {:controller => :file_imports, :action => :show, :id => @file_import.file_import.id} ) : _("None") %></span>
<% end %></label><label for="file_import_<%=  @file_import.id || 0  %>_re_imports" id="file_imports_re_imports_<%= @file_import.id || 0 %>"><%= s_(%q{Re-imports: }) %><% if @file_import.re_imports.blank? %>
<span class="aligned"><%= _(%q{None}) %></span>
<% else %>
<ul class="show_associations aligned" id="file_imports_re_imports_<%= @file_import.id || 0 %>_ul">
<% @file_import.re_imports.each { |li| %>
<li id="associated_file_import_<%= li.id %>" ><%= link_to(li.disp_name, {:controller => :file_imports, :action => :show, :id => li}) %></li>
<% } %>
</ul>
<% end %></label>
</fieldset>
<fieldset id="file_import_<%=  @file_import.id || 0  %>_progress_cont" >
<legend for="file_import_<%=  @file_import.id || 0  %>_progress_cont" id="file_imports_progress_cont_<%= @file_import.id || 0 %>"><%= s_(%q{Progress}) %></legend>
<label for="file_import_<%=  @file_import.id || 0  %>_started_at" id="file_imports_started_at_<%= @file_import.id || 0 %>"><%= s_(%q{Started at: }) %><span class="aligned"><%= h @file_import.started_at %></span></label><label for="file_import_<%=  @file_import.id || 0  %>_completed_at" id="file_imports_completed_at_<%= @file_import.id || 0 %>"><%= s_(%q{Completed at: }) %><span class="aligned"><%= h @file_import.completed_at %></span></label><label for="file_import_<%=  @file_import.id || 0  %>_read_lines" id="file_imports_read_lines_<%= @file_import.id || 0 %>"><%= s_(%q{Read lines: }) %><span class="aligned"><%= h @file_import.read_lines %></span></label><label for="file_import_<%=  @file_import.id || 0  %>_wrote_records" id="file_imports_wrote_records_<%= @file_import.id || 0 %>"><%= s_(%q{Wrote Records: }) %><span class="aligned"><%= h @file_import.wrote_records %></span></label><label for="file_import_<%=  @file_import.id || 0  %>_expected_total" id="file_imports_expected_total_<%= @file_import.id || 0 %>"><%= s_(%q{Expected total: }) %><span class="aligned"><%= h @file_import.expected_total %></span></label><label for="file_import_<%=  @file_import.id || 0  %>_error_count" id="file_imports_error_count_<%= @file_import.id || 0 %>"><%= s_(%q{Error Count: }) %><span class="aligned"><%= h @file_import.error_count %></span></label>
</fieldset>
<fieldset id="file_import_<%=  @file_import.id || 0  %>_log_cont" >
<legend for="file_import_<%=  @file_import.id || 0  %>_log_cont" id="file_imports_log_cont_<%= @file_import.id || 0 %>"><%= s_(%q{Log}) %></legend>
<label for="file_import_<%=  @file_import.id || 0  %>_log" id="file_imports_log_<%= @file_import.id || 0 %>"><%= s_(%q{Log: }) %><span class="aligned"><%=  txt= @file_import.log; h(txt.to(100)) + (txt.length > 100 ? '...' : '') unless txt.blank? %></span></label>
</fieldset>

</fieldset>

</div>
<% unless(@no_links) %>
<%= bottom_links_for_show %>
<% end %>
<script type="text/javascript">
//<![CDATA[





function onload_show_call() {
if (typeof(Layout) == 'undefined') { if ($('main-menubar')) { build_menubar('main-menubar') }}
}
<% if request.xhr? %>onload_show_call();<% else %>if (typeof(Event) != 'undefined' && Event.observe) {
Event.observe(window, 'load', onload_show_call)
} else if (typeof(jQuery) != 'undefined') {
$(window).load(onload_show_call)
}<% end %>


//]]>
</script>