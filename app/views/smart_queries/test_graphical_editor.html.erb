<%;################################################
## This file and all its content belong to Faveod S.A.S unless a commercial
## contract signed by a representant of Faveod S.A.S states otherwise.
##########
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
# EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
# NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
# LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
# OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
# WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
################################################
## This has been generated by Faveod Generator on Mon Apr 01 11:00:04 +0200 2013
## It should be placed at 'app/views/smart_queries/test_graphical_editor.html.erb'
## All manual modifications will be destroyed on next generation
################################################ 
%>You have a macro error (ArgumentError) on View 'test_graphical_editor' (121) at Mon Apr 01 11:00:05 +0200 2013:<br />wrong number of arguments (0 for 1)<br />FAVEOD_MACRO_LEVEL:22:in `set_style'<br/>FAVEOD_MACRO_LEVEL:22:in `get_pass'<br/>/home/gene2/evaluator/app/models/v2/view_gen_ext.rb:35:in `get_pass'<br/>(erb):18:in `getBinding'<br/>/home/gene2/evaluator/app/models/v2/vmetadata.rb:93:in `getBinding'<br/>/home/gene2/evaluator/app/metal/c3po.rb:117:in `eval_code'
<script type="text/javascript">
//<![CDATA[



function onready_test_graphical_editor_call() {

if (typeof(Report) != 'undefined') {
<% if @pdf %>
   if (!Report.data) {Report.data = {}}
   Report.data['count_of_action_sid_by_field_sid'] = <%=raw SmartQueryReport.make_report('count_of_action_sid_by_field_sid', {}.merge({})).to_json %>;
<% else %>
   if (!Report.urls) {Report.urls = {}}
   Report.urls['count_of_action_sid_by_field_sid'] = '';
<% end %>
   Report.display('count_of_action_sid_by_field_sid');
}

}
<% if request.xhr? %>onready_test_graphical_editor_call();<% else %> if (document.observe) {
document.observe('dom:loaded', onready_test_graphical_editor_call)
} else if (typeof(jQuery) != 'undefined') {
jQuery(document).ready(onready_test_graphical_editor_call)
}<% end %>



function onload_test_graphical_editor_call() {
if (typeof(Layout) == 'undefined') { if ($('main-menubar')) { build_menubar('main-menubar') }}
var request_xhr = <%= request.xhr? %>; var pres_mode = '<%= @pres_mode.to_s %>';
if (<%= request.xhr? %>) {if (pres_mode == 'list_zoom') { Layout.alignValues('smart_queries_element') }} else { if (typeof(Layout) == 'undefined') { alignValues('content')}}
var request_xhr = <%= request.xhr? %>; var pres_mode = '<%= @pres_mode.to_s %>';
if (<%= request.xhr? %>) {if (pres_mode == 'list_zoom') { Layout.alignValues('smart_queries_element') }} else { if (typeof(Layout) == 'undefined') { alignValues('content')}}

if (readCookie('active_filters')) {
  var h = $H(unescape(readCookie('active_filters')).evalJSON(true))
  $A(["joining_criteria"]).each(function(elt) {
     if (h.get(elt)) {
      var op = $H(h.get(elt)).keys().first()
      var val = $H(h.get(elt)).values().first()
      if (op && val && (op != $('comp_'+elt).getValue() || val != $('smart_query_0_'+elt).getValue())) {
  $('comp_'+elt).setValue(op)
  $('smart_query_0_'+elt).setValue(val)
      }
    }
  })
}
if ($('smart_queries_filter_form')) { typeof(Layout) != 'undefined' ? Layout.alignValues('.filter_bar FIELDSET') : alignValues($('smart_queries_filter_form').down())}
$('smart_queries_filter_form').observe('change', function(ev) {
var hf = new Hash();
$A(["joining_criteria"]).each(function(elt) {
  if (!$('comp_'+elt).getValue().blank() && !$('smart_query_0_'+elt).getValue().blank()) {
    var t = new Hash()
    t.set($('comp_'+elt).getValue(), $('smart_query_0_'+elt).getValue())
    hf.set(elt, t)
  }
})
setCookie('active_filters', hf.toJSON(), '', window.location.pathname)
location.reload()
})
}
<% if request.xhr? %>onload_test_graphical_editor_call();<% else %>if (typeof(Event) != 'undefined' && Event.observe) {
Event.observe(window, 'load', onload_test_graphical_editor_call)
} else if (typeof(jQuery) != 'undefined') {
$(window).load(onload_test_graphical_editor_call)
}<% end %>


//]]>
</script>