<%;################################################
## This file and all its content belong to Faveod S.A.S unless a commercial
## contract signed by a representant of Faveod S.A.S states otherwise.
##########
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
# EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
# NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
# LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
# OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
# WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
################################################
## This has been generated by Faveod Generator on Thu Oct 31 16:38:12 +0100 2013
## It should be placed at 'app/views/smart_queries/_field_conditions.html.erb'
## All manual modifications will be destroyed on next generation
################################################ %>

<fieldset id="conditions">
  <legend>
    <%= _("Fields for %{table}" % {:table => @model.name}) %>
  </legend>
  <% @fields.each_with_index do |field, i|
     prefix = "smart_query[#{@smart_query.id || 0}][criteria][#{i}]" %>
     <label for="<%= prefix %>[compare]"><%= _(field.to_s.titleize) %>
     <% crits = @criteria[field]
     crits = [{}] if crits.blank? 
     crits.each do |crit| %>
       <%= hidden_field_tag("#{prefix}[field]", field) %>
       <%= select_tag("#{prefix}[compare]", compare_select(@table, field, crit[:compare]), :class => 'compare') %>
       <%= search_field("#{prefix}[value]", field, crit[:value]) %>
       <br />
     <% end %>
     </label>
  <% end %>
</fieldset>

<script type="text/javascript">
//<![CDATA[





function onload_field_conditions_call() {
$("#conditions select.compare").css({width:10em})
}
<% if request.xhr? %>onload_field_conditions_call();<% else %>if (typeof(Event) != 'undefined' && Event.observe) {
Event.observe(window, 'load', onload_field_conditions_call)
} else if (typeof(jQuery) != 'undefined') {
$(window).load(onload_field_conditions_call)
}<% end %>


//]]>
</script>