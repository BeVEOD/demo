<%;################################################
## This file and all its content belong to Faveod S.A.S unless a commercial
## contract signed by a representant of Faveod S.A.S states otherwise.
##########
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
# EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
# NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
# LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
# OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
# WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
################################################
## This has been generated by Faveod Generator on Thu Oct 31 16:40:28 +0100 2013
## It should be placed at 'app/views/customers/search.html.erb'
## All manual modifications will be destroyed on next generation
################################################ %>
<h2 class="title"><img src="/images/page_icons/magnifier.png" alt="<%= _(%q{Search}) %>" /> <%= _("Searching %{page}") % {:page => _("Customer")} %> </h2>


<div id="container" class="content align_fields">
<div class="fields">
<form action="<%= "/#{params[:lang]}" if params[:lang] %>/customers/search" data-update="search_results" enctype="multipart/form-data" id="customers_search_form" method="post">
	<fieldset style="border:none;" id="customer_<%=  @customer.id || 0  %>_root_container" >
<fieldset id="customer_<%=  @customer.id || 0  %>_new_container2" >
<legend for="customer_<%=  @customer.id || 0  %>_new_container2" id="customers_new_container2_<%= @customer.id || 0 %>"><%= s_(%q{New Container}) %></legend>
<label class="input_string" data-field="first_name" for="first_name_for" id="customers_first_name_<%= @customer.id || 0 %>"><%= s_(%q{First Name: }) %><select class="not-aligned comparator" id="comp_first_name" name="comp_first_name"><%= options_for_select([['','']]+(Customer::COMPARATORS[:first_name] || {}).keys.map{|k| [s_("string|#{k}"), k]}) %></select>
<input id="customer_<%= @customer.id || 0 %>_first_name" maxlength="255" name="customer[<%=  @customer.id || 0  %>][first_name]" type="text" value="<%=h @customer.first_name %>" /></label>
<label class="input_string" data-field="last_name" for="last_name_for" id="customers_last_name_<%= @customer.id || 0 %>"><%= s_(%q{Last Name: }) %><select class="not-aligned comparator" id="comp_last_name" name="comp_last_name"><%= options_for_select([['','']]+(Customer::COMPARATORS[:last_name] || {}).keys.map{|k| [s_("string|#{k}"), k]}) %></select>
<input id="customer_<%= @customer.id || 0 %>_last_name" maxlength="255" name="customer[<%=  @customer.id || 0  %>][last_name]" type="text" value="<%=h @customer.last_name %>" /></label>
<label class="input_binary" data-field="photo" for="photo_for" id="customers_photo_<%= @customer.id || 0 %>"><%= s_(%q{Photo: }) %><select class="not-aligned comparator" id="comp_photo" name="comp_photo"><%= options_for_select([['','']]+(Customer::COMPARATORS[:photo] || {}).keys.map{|k| [s_("binary|#{k}"), k]}) %></select>
<input id="customer_<%=  @customer.id || 0  %>_photo" name="customer[<%=  @customer.id || 0  %>][photo]" type="text" /></label>
</fieldset>

<label class="input_bt_assoc" data-field="user_id" for="user_id_for" id="customers_user_<%= @customer.id || 0 %>"><%= s_(%q{User: }) %><select class="not-aligned comparator" id="comp_user_id" name="comp_user_id"><%= options_for_select([['','']]+(Customer::COMPARATORS[:user] || {}).keys.map{|k| [s_("association|#{k}"), k]}) %></select>
<select name="customer[<%=  @customer.id || 0  %>][user_id]" id="customer_<%= @customer.id || 0 %>_user_id">
<option value=""><%= _(%q{[All]}) %></option>
<%= options_for_select((@customer_user__potential_values || @customer.user__potential_values).map{|p| [p.disp_name, p.id] }, @customer.user_id) %>
</select></label>
<fieldset id="customer_<%=  @customer.id || 0  %>_new_container" >
<legend for="customer_<%=  @customer.id || 0  %>_new_container" id="customers_new_container_<%= @customer.id || 0 %>"><%= s_(%q{New Container}) %></legend>
<label class="input_date" data-field="new_date" for="new_date_for" id="customers_new_date_<%= @customer.id || 0 %>"><%= s_(%q{New Date: }) %><select class="not-aligned comparator" id="comp_new_date" name="comp_new_date"><%= options_for_select([['','']]+(Customer::COMPARATORS[:new_date] || {}).keys.map{|k| [s_("date|#{k}"), k]}) %></select>
<input class="calendar" id="customer_<%=  @customer.id || 0  %>_new_date" name="customer[<%=  @customer.id || 0  %>][new_date]" type="text" /></label>
<fieldset id="customer_<%=  @customer.id || 0  %>_new_container3" >
<legend for="customer_<%=  @customer.id || 0  %>_new_container3" id="customers_new_container3_<%= @customer.id || 0 %>"><%= s_(%q{New Container}) %></legend>
<label class="input_string" data-field="new_string" for="new_string_for" id="customers_new_string_<%= @customer.id || 0 %>"><%= s_(%q{New String: }) %><select class="not-aligned comparator" id="comp_new_string" name="comp_new_string"><%= options_for_select([['','']]+(Customer::COMPARATORS[:new_string] || {}).keys.map{|k| [s_("string|#{k}"), k]}) %></select>
<input id="customer_<%= @customer.id || 0 %>_new_string" maxlength="255" name="customer[<%=  @customer.id || 0  %>][new_string]" type="text" value="<%=h @customer.new_string %>" /></label>
</fieldset>

</fieldset>

</fieldset>

  <input disable_with="" id="search_search_form_submit" name="commit" type="submit" value="<%= _(%q{Search}) %>" />
</form>
</div>
<div id="search_results"></div>
</div>

<% if @pres_mode == :list_zoom %>
<a href="#" data-method="get" onclick="new Ajax.Updater('customers_element', '<%= "/#{params[:lang]}" if params[:lang] %>/customers/index', {asynchronous:true, evalScripts:true}); return false;" rel="nofollow" title="<%= _(%q{Index of all customers.}) %>"><img src="/images/default/s.gif" alt="<%= _(%q{Back}) %>" title="<%= _(%q{Back}) %>" width="16" /> <%= _(%q{Back}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/customers/index" data-method="get" rel="nofollow" title="<%= _(%q{Index of all customers.}) %>"><img src="/images/default/s.gif" alt="<%= _(%q{Back}) %>" title="<%= _(%q{Back}) %>" width="16" /> <%= _(%q{Back}) %></a>
<% end %>


<script type="text/javascript">
//<![CDATA[



function onready_search_call() {

$('#customers_search_form').on('submit', function(evt) {
  var upd = $(this).data('update');
  evt.preventDefault();
  $.post(this.action, {query:Storage.jsonify_form(this)}).success(function(r) { $('#'+upd).html(r); });
})

}
<% if request.xhr? %>onready_search_call();<% else %> if (document.observe) {
document.observe('dom:loaded', onready_search_call)
} else if (typeof(jQuery) != 'undefined') {
jQuery(document).ready(onready_search_call)
}<% end %>




//]]>
</script>