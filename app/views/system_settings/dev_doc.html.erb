<%;################################################
## This file and all its content belong to Faveod S.A.S unless a commercial
## contract signed by a representant of Faveod S.A.S states otherwise.
##########
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
# EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
# NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
# LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
# OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
# WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
################################################
## This has been generated by Faveod Generator on Thu Oct 31 16:38:10 +0100 2013
## It should be placed at 'app/views/system_settings/dev_doc.html.erb'
## All manual modifications will be destroyed on next generation
################################################ %>
<% if @doc_update && @doc
 if @path !~ /\.js\Z/
  reg1 = Regexp.new('a\s+href="([^#])', 'i')
  reg2 = Regexp.new('src="', 'i')
  reg3 = Regexp.new('href="(.*)\.css"', 'i')
  reg4 = Regexp.new('<body(.*)>', 'i')
  
  @doc.gsub!(reg1, 'a href="?path=\1')
  @doc.gsub!(reg2, 'src="?path=')
  @doc.gsub!(reg3, 'href="/stylesheets/\1.css"') 
  
  html = [%Q[<div style="float:right;">]]
  html << _("Last Update: %{date}") % {:date => @doc_update.to_s}
  html << %Q[<br />]
  html << %Q[<a href="/system_settings/gen_doc" onclick="var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;f.submit();return false;" title="#{_("Automatically creating developer documentation.") }"><img src="/images/page_icons/report.png" alt="#{ _("Gen Doc") }" title="#{ _("Gen Doc") }" /> #{_("Regenerate Documentation")}</a>]
  html << %Q[<br /></div>]
  @doc.gsub!(reg4, '\0'+html.join) 
 end %>
<%= @doc.html_safe %> 

<% else %>

<%= _(%q{No documentation found}) %><br />
<% if @pres_mode == :list_zoom %>
<a href="#" data-method="post" onclick="new Ajax.Updater('system_settings_element', '<%= "/#{params[:lang]}" if params[:lang] %>/system_settings/gen_doc', {asynchronous:true, evalScripts:true}); return false;" rel="nofollow" title="<%= _(%q{Automatically creating developer documentation.}) %>"><img src="/images/page_icons/report.png" alt="<%= _(%q{Gen Doc}) %>" title="<%= _(%q{Gen Doc}) %>" /> <%= _(%q{Generate Documentation}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/system_settings/gen_doc" data-method="post" rel="nofollow" title="<%= _(%q{Automatically creating developer documentation.}) %>"><img src="/images/page_icons/report.png" alt="<%= _(%q{Gen Doc}) %>" title="<%= _(%q{Gen Doc}) %>" /> <%= _(%q{Generate Documentation}) %></a>
<% end %>

<% end %>

