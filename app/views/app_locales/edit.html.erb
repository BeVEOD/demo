<%;################################################
## This file and all its content belong to Faveod S.A.S unless a commercial
## contract signed by a representant of Faveod S.A.S states otherwise.
##########
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
# EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
# NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
# LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
# OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
# WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
################################################
## This has been generated by Faveod Generator on Thu Oct 31 16:38:10 +0100 2013
## It should be placed at 'app/views/app_locales/edit.html.erb'
## All manual modifications will be destroyed on next generation
################################################ %>
<h2 class="title"><img src="/images/page_icons/page_white_paintbrush.png" alt="<%= _(%q{Edit}) %>" /> <%= _("Editing %{model} %{record}") % {:model => _("App Locale"), :record => @app_locale.disp_name} %> </h2>
<% if !request.xhr? %><div class="menubar"><ul id="main-menubar"><li class="file_menu first"><a href="#"><%= _(%q{File}) %></a><ul><li><% if @pres_mode == :list_zoom %>
<a href="#" data-method="get" onclick="new Ajax.Updater('app_locales_element', '<%= "/#{params[:lang]}" if params[:lang] %>/app_locales/new', {asynchronous:true, evalScripts:true}); return false;" rel="nofollow" title="<%= _(%q{Loads a new record.}) %>"><img src="/images/page_icons/add.png" alt="<%= _(%q{New}) %>" title="<%= _(%q{New}) %>" /> <%= _(%q{New}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/app_locales/new" data-method="get" rel="nofollow" title="<%= _(%q{Loads a new record.}) %>"><img src="/images/page_icons/add.png" alt="<%= _(%q{New}) %>" title="<%= _(%q{New}) %>" /> <%= _(%q{New}) %></a>
<% end %></li><li class="sep"></li><li><a href="#" onclick="Layout.print_element_id('content', '<%= @app_locale && !@app_locale.is_a?(Array) ? @app_locale.disp_name : _('List') %>');; return false;"><%= image_tag("/images/std/print.gif") %><%= _(%q{Print...}) %></a></li><% if @menubar_actions && @menubar_actions[:file].is_a?(Array) %><li class="sep"></li><% @menubar_actions[:file].each do |elt| %>
<%= content_tag(:li, elt) if elt.is_a?(String) %><% end %><% end %></ul></li>
<li><a href="#"><%= _(%q{Edit}) %></a>
<ul><% if @menubar_actions && @menubar_actions[:edit].is_a?(Array) %><li class="sep"></li><% @menubar_actions[:edit].each do |elt| %>
<%= content_tag(:li, elt) if elt.is_a?(String) %><% end %><% end %></ul></li>
<li><a href="#"><%= _(%q{Presentation}) %></a>
<ul><li><%= image_tag('/images/std/gallery.gif', :height => 16) %> <%= _(%q{Gallery}) %></li><% if @menubar_actions && @menubar_actions[:presentation].is_a?(Array) %><li class="sep"></li><% @menubar_actions[:presentation].each do |elt| %>
<%= content_tag(:li, elt) if elt.is_a?(String) %><% end %><% end %></ul></li>
<li><a href="#"><%= _(%q{Browsing}) %></a><ul><li><% if @pres_mode == :list_zoom %>
<a href="#" data-method="get" onclick="new Ajax.Updater('app_locales_element', '<%= "/#{params[:lang]}" if params[:lang] %>/app_locales/list', {asynchronous:true, evalScripts:true}); return false;" rel="nofollow" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{List}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/app_locales/list" data-method="get" rel="nofollow" title="<%= _(%q{This gives the list of all records}) %>"><img src="/images/page_icons/application_view_list.png" alt="<%= _(%q{List}) %>" title="<%= _(%q{List}) %>" /> <%= _(%q{List}) %></a>
<% end %></li><li><% if @pres_mode == :list_zoom %>
<a href="#" data-method="get" onclick="new Ajax.Updater('app_locales_element', '<%= "/#{params[:lang]}" if params[:lang] %>/app_locales/help', {asynchronous:true, evalScripts:true}); return false;" rel="nofollow" title="<%= _(%q{Gives help about current module.}) %>"><img src="/images/std/help.png" alt="<%= _(%q{Help}) %>" title="<%= _(%q{Help}) %>"/> <%= _(%q{Help}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/app_locales/help" data-method="get" rel="nofollow" title="<%= _(%q{Gives help about current module.}) %>"><img src="/images/std/help.png" alt="<%= _(%q{Help}) %>" title="<%= _(%q{Help}) %>"/> <%= _(%q{Help}) %></a>
<% end %></li><li class="sep"></li><li><% if @pres_mode == :list_zoom %>
<a href="#" data-method="get" onclick="new Ajax.Updater('app_locales_element', '<%= "/#{params[:lang]}" if params[:lang] %>/app_locales/show/<%= @app_locale.id %>', {asynchronous:true, evalScripts:true}); return false;" rel="nofollow" title="<%= _(%q{Display the record.}) %>"><img src="/images/std/show.png" alt="<%= _(%q{Show}) %>" title="<%= _(%q{Show}) %>"/> <%= _(%q{Show current}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/app_locales/show/<%= @app_locale.id %>" data-method="get" rel="nofollow" title="<%= _(%q{Display the record.}) %>"><img src="/images/std/show.png" alt="<%= _(%q{Show}) %>" title="<%= _(%q{Show}) %>"/> <%= _(%q{Show current}) %></a>
<% end %></li></ul></li>
</ul><br style="clear:left;" /></div><% end %>
<div class='fields'>
<%= error_messages_for 'app_locale' %>
<form action="<%= "/#{params[:lang]}" if params[:lang] %>/app_locales/update/<%= @app_locale.id %>" enctype="multipart/form-data" id="app_locale_<%= @app_locale.id || 0 %>_form" method="post"><input name="_method" type="hidden" value="put" />
  <fieldset style="border:none;" id="app_locale_<%=  @app_locale.id || 0  %>_root_container" >
<label for="app_locale_<%=  @app_locale.id || 0  %>_locale_code" id="app_locales_locale_code_<%= @app_locale.id || 0 %>"><%= s_(%q{Locale: }) %><select id="app_locale_<%= @app_locale.id || 0 %>_locale_code" name="app_locale[<%=  @app_locale.id || 0  %>][locale_code]"><%= options_for_select(@app_locale_locale_code__potential_values || @app_locale.locale_code__potential_values, @app_locale.locale_code) %></select></label>
<label for="app_locale_<%=  @app_locale.id || 0  %>_po" id="app_locales_po_<%= @app_locale.id || 0 %>"><%= s_(%q{Po File: }) %><input id="app_locale_<%= @app_locale.id || 0 %>_po" name="app_locale[<%=  @app_locale.id || 0  %>][po]" type="file" value="<%=h @app_locale.po__name %>" /></label>

</fieldset>

  <input data-disable-with="<%= h(_(%q{Saving...})) %>" disable_with="Saving..." id="edit_save_form_submit" name="commit" type="submit" value="<%= _(%q{Save}) %>" />
</form>
</div>

<%= bottom_links_for_edit %>

<% if AppLocale.working? %>
<div id='applocale_working' class="warning">
      <b><%= _(%q{Cannot launch tasks!}) %></b><br />
      <%= _("%{task} running in background") % {:task => _("Translator")} %>
</div>
<% else %>
<div style="float:right;margin-right:2em;">
    <%= button_to "Autotranslate untranslated messages", :action => :auto_translate_all %>
</div>

<div style="float:right;margin-right:2em;">
    <%= button_to "Update localizations files", :action => :update_po %>
</div>

<div style="float:right;margin-right:2em;">
    <%= button_to "View submitted changes", :action => :make_mo %>
</div>

<% end %>
<h3 class="title"><%= _(%q{Current translation}) %></h3>

<br />
<form style="float:right;margin-right:2em;">
<label style="display:inline;"><%= _("Search Message ID: ")%><%= text_field_tag("filters[msgid]", params[:filters] ? params[:filters][:msgid] : '') %></label>
<%= submit_tag(_('Find')) %>
</form>

<ul class="tabs">
  <li <%= 'class="current"' if @gettext_fuzzy %>><%= link_to("Fuzzy (#{@count_fuzzy})", :overwrite_params => {:tab => "fuzzy", :page => "1", :per_page => "50"}) %></li>
  <li <%= 'class="current"' if @gettext_trans %>><%= link_to("Translated (#{@count_trans})", :overwrite_params => {:tab => "trans", :page => "1", :per_page => "50"}) %></li>
  <li <%= 'class="current"' if @gettext_untrans %>><%= link_to("Untranslated (#{@count_untrans})", :overwrite_params => {:tab => "untrans", :page => "1", :per_page => "50"}) %></li>
  <li <%= 'class="current"' if @gettext_obsol %>><%= link_to("Obsolete (#{@count_obsol})", :overwrite_params => {:tab => "obsol", :page => "1", :per_page => "50"}) %></li>
</ul>
<style>table#translations TH PRE {display:inline;background-color:white}</style>
<%= render :partial => "gettext" %>



<script type="text/javascript">
//<![CDATA[


function submit_code(event) {

if (event.keyCode == 13) {
  event.element().up('tr').down('a').onclick()
}

}




function onload_edit_call() {
if (typeof(Layout) == 'undefined') { if ($('main-menubar')) { build_menubar('main-menubar') }}
if ($('applocale_working') == null) {
$('translations').select('INPUT').each(function(e){
 e.observe('keyup', submit_code)
})
}

}
<% if request.xhr? %>onload_edit_call();<% else %>if (typeof(Event) != 'undefined' && Event.observe) {
Event.observe(window, 'load', onload_edit_call)
} else if (typeof(jQuery) != 'undefined') {
$(window).load(onload_edit_call)
}<% end %>


//]]>
</script>