<%;################################################
## This file and all its content belong to Faveod S.A.S unless a commercial
## contract signed by a representant of Faveod S.A.S states otherwise.
##########
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
# EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
# NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
# LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
# OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
# WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
################################################
## This has been generated by Faveod Generator on Sat Aug 22 23:52:49 +0200 2009
## It should be placed at 'app/views/accesses/db_table.html.erb'
## All manual modifications will be destroyed on next generation
################################################ 
-%>
<h2 class="title"><%= _(%q{Data Base Maintenance Operations}) %> </h2>

<% if @table_infos %>
<table style="float:left"><caption>Table infos</caption><% @table_infos.each do |k,v|
v = "#{v} (#{number_to_human_size(v.to_i, 2)})" if %w(Max_data_length Avg_row_length Data_length Index_length Database_size).include?(k) %>
<tr><th><%= k.titleize %></th><td><%= v %></tr><% end %>
</table>
<% end %>

<div style="float:left;margin-left:3em;margin-top:2em;width:50%">
<%= button_to(_("Purge All With Triggers"), { :command => 'purge_with_triggers'}, :confirm => _("Are you sure?"), :method => :delete) %><br />
<%= button_to(_("Purge All Without Triggers"), { :command => 'purge_without_triggers'}, :confirm => _("Are you sure?"), :method => :delete) %><br />

<%= button_to(_("Generate Random data (1)"), { :command => 'generate_random_data', :size => '1'}, :confirm => _("Are you sure?"), :method => :post) %>
<%= button_to(_("Generate Random data (10)"), { :command => 'generate_random_data', :size => '10'}, :confirm => _("Are you sure?"), :method => :post) %>
<%= button_to(_("Generate Random data (100)"), { :command => 'generate_random_data', :size => '100'}, :confirm => _("Are you sure?"), :method => :post) %>
<%= button_to(_("Generate Random data (1000)"), { :command => 'generate_random_data', :size => '1000'}, :confirm => _("Are you sure?"), :method => :post) %><br />

<%= button_to(_("Check Foreign Keys"), { :command => 'foreign_keys'}, :method => :post) %><br />
<%= button_to(_("Check Validations"), { :command => 'validations'}, :method => :post) %><br />
<%= button_to(_("Optimize"), { :command => 'optimize'}, :method => :post) %><br />
</div>

<br style="clear:both" />
