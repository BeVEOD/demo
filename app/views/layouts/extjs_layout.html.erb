<%;################################################
## This file and all its content belong to Faveod S.A.S unless a commercial
## contract signed by a representant of Faveod S.A.S states otherwise.
##########
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
# EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
# NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
# LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
# OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
# WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
################################################
## This has been generated by Faveod Generator on Mon Oct 28 21:46:43 +0100 2013
## It should be placed at 'app/views/layouts/extjs_layout.html.erb'
## All manual modifications will be destroyed on next generation
################################################ %>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="<%= I18n.locale %>" lang='<%= I18n.locale %>' <%= 'dir="rtl"' if I18n.locale.to_s == 'ar' %>><head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<link rel="shortcut icon" type="image/x-icon" href="/images/faveod/favicon.ico"/>
  <title><%=h _("%{app_name} - %{controller}: %{action}") % {:app_name => GSS[:app_title], :controller => controller.controller_name.titleize, :action => controller.action_name} %></title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<link href="/ext3/resources/css/ext-all.css" media="screen" rel="Stylesheet" type="text/css" />
<script src="/javascripts/prototype.js" type="text/javascript"></script>
<link href="/stylesheets/calendar_date_select_blue.css" rel="stylesheet" type="text/css" />
<script src="/javascripts/scriptaculous.js?load=builder,effects,dragdrop,slider" type="text/javascript"></script>
<script src="/javascripts/OpenLayers/OpenLayers.js" type="text/javascript"></script>
<script src="http://ajax.googleapis.com/ajax/libs/ext-core/3.1.0/ext-core.js" type="text/javascript"></script>
<script src="/javascripts/sorttable.js" type="text/javascript"></script>
<script src="/javascripts/window.js" type="text/javascript"></script>
<script src="/javascripts/yahoo.color.js" type="text/javascript"></script>
<script src="/ext3/adapter/ext/ext-base.js" type="text/javascript"></script>
<script src="/ext3/ext-all.js" type="text/javascript"></script>
<%= stylesheet_link_tag('layout_and_sizes', :media => 'all') %>
<script src="/javascripts/js_objects.any.js" type="text/javascript"></script>
<script src="/javascripts/js_objects.prototype_1.7.js" type="text/javascript"></script>
<script src="/javascripts/js_objects.script.aculo.us_1.8.js" type="text/javascript"></script>
<script src="/javascripts/js_objects.openlayers_2.11.js" type="text/javascript"></script>
<%= javascript_include_tag('application') %>
<%= javascript_include_tag('application_for_extjs') %>
<%= javascript_include_tag('swfobject') %>
<%= auto_discovery_link_tag(:rss, {:action => 'feed.rss'}, :title => controller.controller_name.titleize) + "\n" + auto_discovery_link_tag(:atom, {:action => 'feed.atom'}, :title => controller.controller_name.titleize) if controller.respond_to?(:feed) %>
<style type="text/css">
#global_search_results {
	position:absolute;background-color:white;opacity:0.8;margin-left:73%;margin-top:40px;
	z-index:2;width:25%;font-size:small;
}
#header { text-align:center;font-weight:bolder;margin:0px;background-color: white;/*#AAF;*/;height:50px;}
#content{background-color: #EEF;margin:5px;left:0px;position:relative;width:auto;}
#global_search { float:right; font-size:small; margin: 3px; }
#menu{width:99%;max-width:100%;position:relative;padding:0}
</style>
<script type="text/javascript">
Ext.BLANK_IMAGE_URL = '/images/default/s.gif';
Ext.state.Manager.setProvider(new Ext.state.CookieProvider())
Ext.QuickTips.init()
ExtLayout = function(){ return {
	content: null,
	content_title:'',
	viewport: null,
	init: function(){
this.content = Ext.get('content')
if (tmp = this.content.first('H2.title', true)) {this.content_title = tmp.innerHTML}
new Ext.form.TextField('global_search_field', {applyTo:'global_search_field'});
this.viewport = new Ext.Viewport({ layout:"border",
items:[	{ region:"center",contentEl:"content",id:"content-panel",autoScroll:true,xtype:'panel',frame:true, title:this.content_title},
	{ region:"north",contentEl:"header",id:"header-panel",autoHeight:true,xtype:'panel'},
	{ region:"west",contentEl:"menu",id:"menu-panel",title:"<%= _(%q{Menu}) %>",xtype:'panel',collapsible:true,autoScroll:'auto',resizable:true,split:true,width:185}]
})
Ext.select('#menu .menu-element').each(function(e) {
  var ti = e.first('H2.title')
  var tihi = ''
  if (ti) {
    tihi = ti.dom.innerHTML
    ti.remove();//  ti.addClass('x-hidden')
  }
  ht = e.dom.innerHTML
  if (ht)
    e.select('*').remove();
  Ext.getCmp('menu-panel').add({el:e,title:tihi,xtype:'statepanel',frame:true,autoHeight:true,collapsible:true,html:ht,autoWidth:true}).render()
})
// Ext.getCmp('menu-panel').doLayout()
this.content.setStyle({padding:0})
if (this.content.first('H2.title', true)) {this.content.first('H2.title').remove()}
	}};
}();
Ext.onReady(ExtLayout.init);
</script>
</head>
<body>
<div id='header'>
<div id='global_search'>
<label><%= _(%q{Global Search:}) %> <input type='text' id='global_search_field' autosave="EM searches" placeholder="<%= _(%q{Global Search...}) %>" /></label>
<img id='indicator' src='/images/std/indicator.gif' alt='indicator' style='display:none' /><br />
 <%= link_to_function(image_tag('flags/fra.png', :title => _("French")), %Q[setLanguage("fr");], :class => 'btn lang') %>
 <%= link_to_function(image_tag('flags/gb.png', :title => _("English")), %Q[setLanguage("en");], :class => 'btn lang') %>
 <%= link_to_function(image_tag('flags/ar.png', :title => _("Arabic")), %Q[setLanguage("ar");], :class => 'btn lang') %>
<%= link_to(_("Advanced Search"), :controller => :smart_queries, :action => :new, :params => {:table => controller.controller_name }) %></div>
<h1><%= _(GSS[:app_title]) %></h1></div>
<div id='global_search_results' style='display:none'><%= _(%q{No Result}) %></div>
<%= observe_field('global_search_field', :frequency => 0.5, :with => "'criteria=' + escape(value)", :url => { :action => :global_search }) %>

<div id='menu'>

<div class="menu-element">
<h2 class="title" id="page_set_0"><%= _(%q{Main}) %></h2>
<ul>
  <li><a href="<%= "/#{params[:lang]}" if params[:lang] %>/customers/index" title="<%= _(%q{Index of all customers.}) %>"><img src="/images/default/s.gif" alt="<%= _(%q{Customers}) %>" title="<%= _(%q{Customers}) %>" width="16" /> <%= _(%q{Customers}) %></a></li>
</ul></div>


<%= render :partial => '/layouts/account_menu_element', :locals => {'title' => true} %>
</div>

<div id="content">
<div style="color:green"><%= flash[:notice] %></div><div style="color:orange"><%= flash[:warning] %></div>
<%= yield %>
</div>

</body>
</html>