<%;################################################
## This file and all its content belong to Faveod S.A.S unless a commercial
## contract signed by a representant of Faveod S.A.S states otherwise.
##########
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
# EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
# NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
# LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
# OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
# WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
################################################
## This has been generated by Faveod Generator on Thu Oct 31 16:41:19 +0100 2013
## It should be placed at 'app/views/users/search.html.erb'
## All manual modifications will be destroyed on next generation
################################################ %>
<h2 class="title"><img src="/images/page_icons/magnifier.png" alt="<%= _(%q{Search}) %>" /> <%= _("Searching %{page}") % {:page => _("User")} %> </h2>


<div id="container" class="content align_fields">
<div class="fields">
<form action="<%= "/#{params[:lang]}" if params[:lang] %>/users/search" data-update="search_results" id="users_search_form" method="post">
	<fieldset style="border:none;" id="user_<%=  @user.id || 0  %>_root_container" >
<label class="input_string" data-field="login" for="login_for" id="users_login_<%= @user.id || 0 %>"><%= s_(%q{Login: }) %><select class="not-aligned comparator" id="comp_login" name="comp_login"><%= options_for_select([['','']]+(User::COMPARATORS[:login] || {}).keys.map{|k| [s_("string|#{k}"), k]}) %></select>
<input id="user_<%= @user.id || 0 %>_login" maxlength="255" name="user[<%=  @user.id || 0  %>][login]" type="text" value="<%=h @user.login %>" /></label>
<label class="input_string" data-field="first_name" for="first_name_for" id="users_first_name_<%= @user.id || 0 %>"><%= s_(%q{First Name: }) %><select class="not-aligned comparator" id="comp_first_name" name="comp_first_name"><%= options_for_select([['','']]+(User::COMPARATORS[:first_name] || {}).keys.map{|k| [s_("string|#{k}"), k]}) %></select>
<input id="user_<%= @user.id || 0 %>_first_name" maxlength="255" name="user[<%=  @user.id || 0  %>][first_name]" type="text" value="<%=h @user.first_name %>" /></label>
<label class="input_string" data-field="last_name" for="last_name_for" id="users_last_name_<%= @user.id || 0 %>"><%= s_(%q{Last Name: }) %><select class="not-aligned comparator" id="comp_last_name" name="comp_last_name"><%= options_for_select([['','']]+(User::COMPARATORS[:last_name] || {}).keys.map{|k| [s_("string|#{k}"), k]}) %></select>
<input id="user_<%= @user.id || 0 %>_last_name" maxlength="255" name="user[<%=  @user.id || 0  %>][last_name]" type="text" value="<%=h @user.last_name %>" /></label>
<label class="input_string" data-field="email" for="email_for" id="users_email_<%= @user.id || 0 %>"><%= s_(%q{Email: }) %><select class="not-aligned comparator" id="comp_email" name="comp_email"><%= options_for_select([['','']]+(User::COMPARATORS[:email] || {}).keys.map{|k| [s_("string|#{k}"), k]}) %></select>
<input id="user_<%= @user.id || 0 %>_email" maxlength="255" name="user[<%=  @user.id || 0  %>][email]" type="text" value="<%=h @user.email %>" /></label>
<label class="input_hm_assoc" data-field="customers" for="customers_for" id="users_customers_<%= @user.id || 0 %>"><%= s_(%q{Customers: }) %><select class="not-aligned comparator" id="comp_customers" name="comp_customers"><%= options_for_select([['','']]+(User::COMPARATORS[:customers] || {}).keys.map{|k| [s_("association|#{k}"), k]}) %></select>
<select multiple="true" size="8" name="user[<%=  @user.id || 0  %>][customers][]" id="user_<%= @user.id || 0 %>_customers">
<option value=""><%= _(%q{[All]}) %></option>
<%= options_for_select((@user_customers__potential_values || @user.customers__potential_values).map{|p| [p.disp_name, p.id] }, @user.customer_ids) %>
</select></label>
<label class="input_string" data-field="telephone" for="telephone_for" id="users_telephone_<%= @user.id || 0 %>"><%= s_(%q{Telephone: }) %><select class="not-aligned comparator" id="comp_telephone" name="comp_telephone"><%= options_for_select([['','']]+(User::COMPARATORS[:telephone] || {}).keys.map{|k| [s_("string|#{k}"), k]}) %></select>
<input id="user_<%= @user.id || 0 %>_telephone" maxlength="255" name="user[<%=  @user.id || 0  %>][telephone]" type="text" value="<%=h @user.telephone %>" /></label>
<label class="input_string" data-field="language" for="language_for" id="users_language_<%= @user.id || 0 %>"><%= s_(%q{Language: }) %><select class="not-aligned comparator" id="comp_language" name="comp_language"><%= options_for_select([['','']]+(User::COMPARATORS[:language] || {}).keys.map{|k| [s_("string|#{k}"), k]}) %></select>
<select id="user_<%= @user.id || 0 %>_language" name="user[<%=  @user.id || 0  %>][language]"><%= options_for_select(@user_language__potential_values || @user.language__potential_values, @user.language) %></select></label>
<label class="input_boolean" data-field="active" for="active_for" id="users_active_<%= @user.id || 0 %>"><%= s_(%q{Active: }) %><select class="not-aligned comparator" id="comp_active" name="comp_active"><%= options_for_select([['','']]+(User::COMPARATORS[:active] || {}).keys.map{|k| [s_("boolean|#{k}"), k]}) %></select>
<select id="user_<%=  @user.id || 0  %>_active" name="user[<%=  @user.id || 0  %>][active]"><option value=""><%=  %></option>
<option value="1"><%= _(%q{true}) %></option>
<option value="0"><%= _(%q{false}) %></option></select></label>

<fieldset id="user_<%=  @user.id || 0  %>_access_management" >
<legend for="user_<%=  @user.id || 0  %>_access_management" id="users_access_management_<%= @user.id || 0 %>"><%= s_(%q{Access Management}) %></legend>


<label class="input_habtm_assoc" data-field="profiles" for="profiles_for" id="users_profiles_<%= @user.id || 0 %>"><%= s_(%q{Profiles: }) %><select class="not-aligned comparator" id="comp_profiles" name="comp_profiles"><%= options_for_select([['','']]+(User::COMPARATORS[:profiles] || {}).keys.map{|k| [s_("association|#{k}"), k]}) %></select>
<select title="Profiles Accesses are combined." multiple="true" size="8" name="user[<%=  @user.id || 0  %>][profiles][]" id="user_<%= @user.id || 0 %>_profiles">
<option value=""><%= _(%q{[All]}) %></option>
<%= options_for_select((@user_profiles__potential_values || @user.profiles__potential_values).map{|p| [p.disp_name, p.id] }, @user.profile_ids) %>
</select></label>
</fieldset>

<fieldset id="user_<%=  @user.id || 0  %>_application_usage" >
<legend for="user_<%=  @user.id || 0  %>_application_usage" id="users_application_usage_<%= @user.id || 0 %>"><%= s_(%q{Application Usage}) %></legend>
<label class="input_hm_assoc" data-field="dev_feedbacks" for="dev_feedbacks_for" id="users_dev_feedbacks_<%= @user.id || 0 %>"><%= s_(%q{Dev Feedbacks: }) %><select class="not-aligned comparator" id="comp_dev_feedbacks" name="comp_dev_feedbacks"><%= options_for_select([['','']]+(User::COMPARATORS[:dev_feedbacks] || {}).keys.map{|k| [s_("association|#{k}"), k]}) %></select>
<select multiple="true" size="8" name="user[<%=  @user.id || 0  %>][dev_feedbacks][]" id="user_<%= @user.id || 0 %>_dev_feedbacks">
<option value=""><%= _(%q{[All]}) %></option>
<%= options_for_select((@user_dev_feedbacks__potential_values || @user.dev_feedbacks__potential_values).map{|r| ['~~' * r.level + " #{r.disp_name}", r.id]}, @user.dev_feedback_ids) %>
</select></label>

</fieldset>

</fieldset>

  <input disable_with="" id="search_search_form_submit" name="commit" type="submit" value="<%= _(%q{Search}) %>" />
</form>
</div>
<div id="search_results"></div>
</div>

<% if @pres_mode == :list_zoom %>
<a href="#" data-method="get" onclick="new Ajax.Updater('users_element', '<%= "/#{params[:lang]}" if params[:lang] %>/users/index', {asynchronous:true, evalScripts:true}); return false;" rel="nofollow" title="<%= _(%q{Index of all users.}) %>"><img src="/images/page_icons/user.png" alt="<%= _(%q{Back}) %>" title="<%= _(%q{Back}) %>"/> <%= _(%q{Back}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/users/index" data-method="get" rel="nofollow" title="<%= _(%q{Index of all users.}) %>"><img src="/images/page_icons/user.png" alt="<%= _(%q{Back}) %>" title="<%= _(%q{Back}) %>"/> <%= _(%q{Back}) %></a>
<% end %>


<script type="text/javascript">
//<![CDATA[



function onready_search_call() {

$('#users_search_form').on('submit', function(evt) {
  var upd = $(this).data('update');
  evt.preventDefault();
  $.post(this.action, {query:Storage.jsonify_form(this)}).success(function(r) { $('#'+upd).html(r); });
})

}
<% if request.xhr? %>onready_search_call();<% else %> if (document.observe) {
document.observe('dom:loaded', onready_search_call)
} else if (typeof(jQuery) != 'undefined') {
jQuery(document).ready(onready_search_call)
}<% end %>




//]]>
</script>