<%;################################################
## This file and all its content belong to Faveod S.A.S unless a commercial
## contract signed by a representant of Faveod S.A.S states otherwise.
##########
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
# EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
# MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
# NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
# LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
# OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
# WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
################################################
## This has been generated by Faveod Generator on Thu Oct 31 16:38:18 +0100 2013
## It should be placed at 'app/views/dev_feedbacks/_dev_feedbacks.html.erb'
## All manual modifications will be destroyed on next generation
################################################ %>
<div id="dev_feedback" onclick="new Effect.toggle('dev_feedbacks_list', 'slide');" 
  style="z-index:100;position:fixed;right:0px;bottom:0px;color:#216C87;background-color:#E1EEF6;border: #B7D8E6 1px solid;padding:0.25em">
 <h4 style="margin:0px"><%= _(%q{Feedbacks}) %></h4>
 <div style="float:right"></div>

<div id="dev_feedbacks_list" style="display:none;z-index:100;float:right;color:#216C87;background-color:#E1EEF6;border: #B7D8E6 1px solid;width:100%;padding:0.25em">

<form action="<%= "/#{params[:lang]}" if params[:lang] %>/dev_feedbacks/create" id="dev_feedback_<%= @dev_feedback.id || 0 %>_form" method="post">
<% @dev_feedback = DevFeedback.new;
  @dev_feedbacks = DevFeedback.open.available({:user => @current_user, :params => params}) %>
<table class="sortable" id="dev_feedbacks_table" summary="dev_feedbacks list"><thead>
<tr class="containers"><th colspan="1"><%= _(%q{Management}) %></th><th colspan="3"><%= _(%q{User Feedback}) %></th><th colspan="3"><%= _(%q{URL}) %></th><th colspan="6"><%= _(%q{Source}) %></th><th class="no-sort" rowspan="2"></th></tr>
<tr><th id="dev_feedbacks_ticket_status_th"><%= _(%q{Ticket Status}) %></th><th id="dev_feedbacks_title_th"><%= _(%q{Title}) %></th><th id="dev_feedbacks_text_th"><%= _(%q{Text}) %></th><th id="dev_feedbacks_zone_th"><%= _(%q{Zone}) %></th><th id="dev_feedbacks_url_th"><%= _(%q{URL}) %></th><th id="dev_feedbacks_controller_th"><%= _(%q{Controller}) %></th><th id="dev_feedbacks_action_th"><%= _(%q{Action}) %></th><th id="dev_feedbacks_created_at_th"><%= _(%q{Created at}) %></th><th id="dev_feedbacks_user_th"><%= _(%q{User}) %></th><th id="dev_feedbacks_ip_th"><%= _(%q{IP}) %></th><th id="dev_feedbacks_ua_th"><%= _(%q{UA}) %></th><th id="dev_feedbacks_browser_th"><%= _(%q{Browser}) %></th><th id="dev_feedbacks_parent_id_th"><%= _(%q{Parent}) %></th></tr>
</thead>

<tbody><% @dev_feedbacks.each_with_index do |row,idx|
@dev_feedback = row %>

		<tr class="<%= (idx % 2 == 1) ? 'odd' : 'even' %> <%= @dev_feedback.disp_class %>" id="dev_feedbacks_<%= @dev_feedback.try(:id) %>" >
<td><span class="aligned"><%= h @dev_feedback.ticket_status %></span></td>
<td><span class="aligned"><%= h @dev_feedback.title %></span></td>
<td><span class="aligned"><%=  txt= @dev_feedback.text; h(txt.to(100)) + (txt.length > 100 ? '...' : '') unless txt.blank? %></span></td>
<td><span class="aligned"><%= @dev_feedback.zone.inspect %></span></td>
<td><span class="aligned"><%= h @dev_feedback.url %></span></td>
<td><span class="aligned"><%= h @dev_feedback.controller %></span></td>
<td><span class="aligned"><%= h @dev_feedback.action %></span></td>
<td><span class="aligned"><%= h @dev_feedback.created_at %></span></td>
<td><span class="aligned"><%=  link_to(@dev_feedback.user.disp_name, {:controller => :users, :action => :show, :id => @dev_feedback.user.id}) unless @dev_feedback.user.blank? %></span></td>
<td><span class="aligned"><%= h @dev_feedback.ip %></span></td>
<td><span class="aligned"><%= h @dev_feedback.ua %></span></td>
<td><span class="aligned"><%= @dev_feedback.browser.inspect %></span></td>
<td><%= link_to((@dev_feedback || row).parent.disp_name, :id => (@dev_feedback || row).parent, :action => :show) if (@dev_feedback || row).parent %></td>
<td class="std_links"><%= links_for_list_element(@dev_feedback) %></td>
</tr>
<% end %></tbody></table>
<form action="<%= "/#{params[:lang]}" if params[:lang] %>/dev_feedbacks/create" id="dev_feedback_<%= @dev_feedback.id || 0 %>_form" method="post">
	<fieldset style="border:none;" id="dev_feedback_<%=  @dev_feedback.id || 0  %>_root_container" >
<fieldset id="dev_feedback_<%=  @dev_feedback.id || 0  %>_management" >
<legend for="dev_feedback_<%=  @dev_feedback.id || 0  %>_management" id="dev_feedbacks_management_<%= @dev_feedback.id || 0 %>"><%= s_(%q{Management}) %></legend>
<label for="dev_feedback_<%=  @dev_feedback.id || 0  %>_ticket_status" id="dev_feedbacks_ticket_status_<%= @dev_feedback.id || 0 %>"><%= s_(%q{Ticket Status: }) %><select name="dev_feedback[<%=  @dev_feedback.id || 0  %>][ticket_status]" id="dev_feedback_<%= @dev_feedback.id || 0 %>_ticket_status" >
<%= options_for_select(@dev_feedback.ticket_status__potential_values(@current_user).map{|p| [_(p), (DevFeedback::TICKET_STATUSES.index(p) || -1 )+1] }, @dev_feedback.ticket_status__index) %>
</select></label>
</fieldset>

<fieldset id="dev_feedback_<%=  @dev_feedback.id || 0  %>_user_feedback_cont" >
<legend for="dev_feedback_<%=  @dev_feedback.id || 0  %>_user_feedback_cont" id="dev_feedbacks_user_feedback_cont_<%= @dev_feedback.id || 0 %>"><%= s_(%q{User Feedback}) %></legend>
<label for="dev_feedback_<%=  @dev_feedback.id || 0  %>_title" id="dev_feedbacks_title_<%= @dev_feedback.id || 0 %>"><%= s_(%q{Title: }) %><input id="dev_feedback_<%= @dev_feedback.id || 0 %>_title" maxlength="255" name="dev_feedback[<%=  @dev_feedback.id || 0  %>][title]" type="text" value="<%=h @dev_feedback.title %>" /></label>
<label for="dev_feedback_<%=  @dev_feedback.id || 0  %>_text" id="dev_feedbacks_text_<%= @dev_feedback.id || 0 %>"><%= s_(%q{Text: }) %><textarea cols="60" id="dev_feedback_<%= @dev_feedback.id || 0 %>_text" name="dev_feedback[<%=  @dev_feedback.id || 0  %>][text]"><%= @dev_feedback.text %></textarea></label>

</fieldset>

<fieldset id="dev_feedback_<%=  @dev_feedback.id || 0  %>_url_cont" >
<legend for="dev_feedback_<%=  @dev_feedback.id || 0  %>_url_cont" id="dev_feedbacks_url_cont_<%= @dev_feedback.id || 0 %>"><%= s_(%q{URL}) %></legend>
<label for="dev_feedback_<%=  @dev_feedback.id || 0  %>_url" id="dev_feedbacks_url_<%= @dev_feedback.id || 0 %>"><%= s_(%q{URL: }) %><input id="dev_feedback_<%= @dev_feedback.id || 0 %>_url" maxlength="255" name="dev_feedback[<%=  @dev_feedback.id || 0  %>][url]" type="text" value="<%=h @dev_feedback.url %>" /></label>
<label for="dev_feedback_<%=  @dev_feedback.id || 0  %>_controller" id="dev_feedbacks_controller_<%= @dev_feedback.id || 0 %>"><%= s_(%q{Controller: }) %><input id="dev_feedback_<%= @dev_feedback.id || 0 %>_controller" maxlength="255" name="dev_feedback[<%=  @dev_feedback.id || 0  %>][controller]" type="text" value="<%=h @dev_feedback.controller %>" /></label>
<label for="dev_feedback_<%=  @dev_feedback.id || 0  %>_action" id="dev_feedbacks_action_<%= @dev_feedback.id || 0 %>"><%= s_(%q{Action: }) %><input id="dev_feedback_<%= @dev_feedback.id || 0 %>_action" maxlength="255" name="dev_feedback[<%=  @dev_feedback.id || 0  %>][action]" type="text" value="<%=h @dev_feedback.action %>" /></label>
</fieldset>

<fieldset id="dev_feedback_<%=  @dev_feedback.id || 0  %>_source_cont" >
<legend for="dev_feedback_<%=  @dev_feedback.id || 0  %>_source_cont" id="dev_feedbacks_source_cont_<%= @dev_feedback.id || 0 %>"><%= s_(%q{Source}) %></legend>

<label for="dev_feedback_<%=  @dev_feedback.id || 0  %>_user_id" id="dev_feedbacks_user_<%= @dev_feedback.id || 0 %>"><%= s_(%q{User: }) %><select name="dev_feedback[<%=  @dev_feedback.id || 0  %>][user_id]" id="dev_feedback_<%= @dev_feedback.id || 0 %>_user_id">
<option value=""><%= _(%q{[None]}) %></option>
<%= options_for_select((@dev_feedback_user__potential_values || @dev_feedback.user__potential_values).map{|p| [p.disp_name, p.id] }, @dev_feedback.user_id) %>
</select>
<% if @pres_mode == :list_zoom %>
<a href="#" data-method="get" onclick="new Ajax.Updater('users_element', '<%= "/#{params[:lang]}" if params[:lang] %>/users/new?user[0][dev_feedbacks]=<%= @dev_feedback.id %>&go_to=<%= request.fullpath %>', {asynchronous:true, evalScripts:true}); return false;" rel="nofollow" title="<%= _(%q{Loads a new record.}) %>"><img src="/images/page_icons/add.png" alt="<%= _(%q{New}) %>" title="<%= _(%q{New}) %>" /> <%= _(%q{New}) %></a>
<% else %>
<a href="<%= "/#{params[:lang]}" if params[:lang] %>/users/new?user[0][dev_feedbacks]=<%= @dev_feedback.id %>&go_to=<%= request.fullpath %>" data-method="get" rel="nofollow" title="<%= _(%q{Loads a new record.}) %>"><img src="/images/page_icons/add.png" alt="<%= _(%q{New}) %>" title="<%= _(%q{New}) %>" /> <%= _(%q{New}) %></a>
<% end %></label>
<label for="dev_feedback_<%=  @dev_feedback.id || 0  %>_ip" id="dev_feedbacks_ip_<%= @dev_feedback.id || 0 %>"><%= s_(%q{IP: }) %><input id="dev_feedback_<%= @dev_feedback.id || 0 %>_ip" maxlength="255" name="dev_feedback[<%=  @dev_feedback.id || 0  %>][ip]" type="text" value="<%=h @dev_feedback.ip %>" /></label>
<label for="dev_feedback_<%=  @dev_feedback.id || 0  %>_ua" id="dev_feedbacks_ua_<%= @dev_feedback.id || 0 %>"><%= s_(%q{UA: }) %><input id="dev_feedback_<%= @dev_feedback.id || 0 %>_ua" maxlength="255" name="dev_feedback[<%=  @dev_feedback.id || 0  %>][ua]" type="text" value="<%=h @dev_feedback.ua %>" /></label>


<label for="dev_feedback_<%=  @dev_feedback.id || 0  %>_parent_id" id="dev_feedbacks_parent_id_<%= @dev_feedback.id || 0 %>"><%= s_(%q{Parent: }) %><select id="dev_feedback_<%= @dev_feedback.id || 0 %>_parent_id" name="dev_feedback[<%= @dev_feedback.id || 0 %>][parent_id]"><%= options_for_select([[_("[None]"), '']] + nested_set_options_for_select(@dev_feedback.parent__potential_values), @dev_feedback.parent_id) %></select></label>

</fieldset>

</fieldset>

	<input data-disable-with="<%= h(_(%q{Processing...})) %>" disable_with="Processing..." id="dev_feedbacks_create_form_submit" name="commit" onclick="; new Ajax.Updater('dev_feedbacks_list', '<%= "/#{params[:lang]}" if params[:lang] %>/dev_feedbacks/create', {evalScripts: true, parameters: {query:Storage.jsonify_form(this.form)}, asynchronous: true});" type="button" value="<%= _(%q{Create}) %>" />
</form>
</form>
</div>
</div>
